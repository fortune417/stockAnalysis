---
title: "stockAnalysis: Financial Statement Analysis Package"
output: github_document
---

# stockAnalysis

An R package for processing and analyzing SEC financial statement data to identify undervalued stocks.

## Installation

```{r, eval=FALSE}
# Install from GitHub
# devtools::install_github("yourusername/stockAnalysis")
```

## Usage

### Loading SEC Data

```{r, eval=FALSE}
library(stockAnalysis)

# Update and load SEC EDGAR data
update_edgar_data()

# Process SEC financial statement data sets
sec_data <- process_sec_data(data_dir = "path/to/sec/data", 
                             ticker = "AAPL", 
                             years = 2015:2023)

# Merge data across dates and forms
merged_data <- merge_sec_data(sec_data)
```

### Financial Analysis

```{r, eval=FALSE}
# Calculate financial ratios
ratios <- calculate_ratios(merged_data)

# Create time series of financial metrics
ts_data <- create_financial_ts(merged_data, 
                               metrics = c("revenue", "netIncome", "epsDiluted"))

# Screen stocks based on financial criteria
screened_stocks <- stock_screen(merged_data, 
                                criteria = list(roa = list(min = 0.1), 
                                               debt_equity = list(max = 0.5)),
                                weights = list(roa = 0.4, debt_equity = 0.6))
```

### Visualization

```{r, eval=FALSE}
# Plot financial time series
plot_financial_ts(merged_data, 
                  metrics = c("revenue", "netIncome"), 
                  company_cik = "0000320193")

# Plot financial ratios
plot_ratios(ratios, 
            ratio_name = "roa", 
            company_cik = "0000320193")

# Compare companies
plot_compare_companies(merged_data, 
                       metrics = c("revenue", "netIncome"), 
                       companies = c("0000320193", "0000789019", "0001652044"))
```

### Find Undervalued Stocks

```{r, eval=FALSE}
# Identify undervalued stocks
undervalued <- find_undervalued_stocks(metrics = your_metrics_data,
                                      discount_threshold = 0.8,
                                      min_market_cap = 100,
                                      additional_criteria = list(
                                        roa = list(min = 0.1),
                                        debt_equity = list(max = 0.5)
                                      ))

# Rank stocks by valuation metrics
ranked_stocks <- rank_stocks_by_valuation(undervalued, rank_by = "value")
```

### Export Results

```{r, eval=FALSE}
# Export to CSV
export_to_csv(undervalued, "undervalued_stocks.csv")

# Export to Excel
export_to_excel(undervalued, "undervalued_stocks.xlsx")

# Export to PDF report
export_to_pdf(undervalued, "analysis_report.pdf", 
              title = "Undervalued Stocks Analysis")
```

### Shiny App

Launch the interactive dashboard:

```{r, eval=FALSE}
# Launch the shiny app
shiny::runApp(system.file("shiny-app", package = "stockAnalysis"))
```

## Features

- **SEC Data Processing**: Functions to read and process SEC financial statement datasets (submissions, numbers, tags, presentation)
- **Financial Analysis**: Calculate ratios, growth rates, and valuation metrics
- **Visualization**: Time series plots, comparisons, and ratio analysis
- **Screening**: Tools to identify and rank undervalued stocks based on multiple criteria
- **Export**: Support for CSV, Excel, and PDF exports
- **Interactive Dashboard**: Shiny app for exploring financial data

## Data Sources

This package is designed to work with SEC EDGAR financial statement data sets available at:
https://www.sec.gov/data-research/sec-markets-data/financial-statement-data-sets

## License

This package is licensed under the MIT License.